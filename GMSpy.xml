<Ui xmlns="http://www.blizzard.com/wow/ui/" 
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 xsi:schemaLocation="http://www.blizzard.com/wow/ui/ 
 ..\..\FrameXML\UI.xsd">

    <EditBox name="GMSpy_Uneditable" inherits="GMGenie_Input_Text" virtual="true" autoFocus="false">
        <Scripts>
            <OnChar>
                GMSpy.resetBoxes();
            </OnChar>
        </Scripts>
    </EditBox>
    
    <Button name="GMSpy_InfoWindow" inherits="GMGenie_Window">
		<Size>
			<AbsDimension x="245" y="250"/>
		</Size>
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="GMTickets_View" relativePoint="TOPRIGHT" />
		</Anchors>
        <Scripts>
            <OnDoubleClick>
                this:ClearAllPoints();
                this:SetPoint("LEFT", GMTickets_View, "RIGHT");
            </OnDoubleClick>
        </Scripts>
        <Layers>
            <Layer>
                <FontString name="$parent_CharInfo" inherits="GameFontHighlightSmall" text="" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="TOP">
                            <Offset>
                                <AbsDimension x="0" y="-18"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
                <FontString name="$parent_Guild" inherits="GameFontHighlightSmall" text="" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="TOP" relativeTo="$parent_CharInfo" relativePoint="Bottom" />
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <Frame name="$parent_Character">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="$parent_Guild" relativePoint="Bottom">
						<Offset>
							<AbsDimension x="0" y="-2"/>
						</Offset>
                    </Anchor>
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Character:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Name" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="90" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                    <EditBox name="$parent_Id" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="70" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="150" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_Account">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_Character" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Account:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Name" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="90" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                    <EditBox name="$parent_Id" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="70" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="150" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_Email">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_Account" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="E-mail:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Email" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="160" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_IpLat">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_Email" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Ip/Latency:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Ip" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="100" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                    <EditBox name="$parent_Latency" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="60" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="160" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_LastLogin">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_IpLat" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Last login:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_LastLogin" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="160" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_PlayedGM">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_LastLogin" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Played/GM:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_PlayedTime" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="100" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                    <EditBox name="$parent_GM" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="60" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="160" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_Money">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_PlayedGM" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Money:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Money" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="160" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            <Frame name="$parent_Location">
                <Size>
                    <AbsDimension x="220" y="19"/>
                </Size>
                <Anchors>
                    <Anchor point="TOP" relativeTo="GMSpy_InfoWindow_Money" relativePoint="BOTTOM" />
                </Anchors>
				<Layers>
					<Layer>
						<FontString name="$parent_Title" inherits="GameFontNormalSmall" text="Location:" justifyH="LEFT">
                            <Anchors>
                                <Anchor point="LEFT">
                                    <Offset>
                                        <AbsDimension x="0" y="2"/>
                                    </Offset>
                                </Anchor>
                            </Anchors>
                        </FontString>
					</Layer>
				</Layers>
                <Frames>
                    <EditBox name="$parent_Location" inherits="GMSpy_Uneditable">
                        <Size>
                            <AbsDimension x="160" y="18" />
                        </Size>
                        <Anchors>
                            <Anchor point="LEFT">
                                <Offset>
                                    <AbsDimension x="60" y="1"/>
                                </Offset>
                            </Anchor>
                        </Anchors>
                    </EditBox>
                </Frames>
            </Frame>
            
            
            <Button name="$parent_Whisper" inherits="GMGenie_Button" text="Whisper">
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="15" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:RegisterForClicks("LeftButtonUp","RightButtonUp");
					</OnLoad>
					<OnClick>
						if (button == "RightButton") then
							ToggleDropDownMenu(1, nil, GMSpy_InfoWindow_Dropdownbuttons, GMSpy_InfoWindow_Whisper, 0, 0);
                            PlaySound("igMainMenuOptionCheckBoxOn");
						else
							GMSpy.whisper();
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(this, "ANCHOR_NONE");
						GameTooltip:SetPoint("BOTTOMRIGHT", "UIParent", "BOTTOMRIGHT", -CONTAINER_OFFSET_X - 13, CONTAINER_OFFSET_Y);
						GameTooltip:AddLine("Whisper");
						GameTooltip:AddLine("Left click to send a whisper to ".. GMSpy.currentRequest["name"] ..".");
                        GameTooltip:AddLine("Right click for whisper macros.");
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
					<OnHide>CloseDropDownMenus();</OnHide>
				</Scripts>
			</Button>
			<Frame name="$parent_Dropdownbuttons" inherits="UIDropDownMenuTemplate" id="16746547">
			   <Scripts>
				   <OnLoad>
					   UIDropDownMenu_Initialize(this, GMWhispers.LoadDropdown, "MENU");
				   </OnLoad>
			   </Scripts>
			</Frame>
            <Button name="$parent_Revive" inherits="GMGenie_Button" text='Revive'>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="70" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						GMSpy.revive();
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(this, "ANCHOR_NONE");
						GameTooltip:SetPoint("BOTTOMRIGHT", "UIParent", "BOTTOMRIGHT", -CONTAINER_OFFSET_X - 13, CONTAINER_OFFSET_Y);
						GameTooltip:AddLine("Revive");
						GameTooltip:AddLine("Revive player ".. GMSpy.currentRequest["name"] ..".");
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
            <Button name="$parent_Root" inherits="GMGenie_SecureButton" text="(Un)root">
				<Attributes>
					<Attribute name="type" type="string" value="macro"/>
					<Attribute name="macrotext1" type="string" value=""/>
					<Attribute name="macrotext2" type="string" value=""/>
				</Attributes>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="125" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:RegisterForClicks("LeftButtonUp","RightButtonUp");
					</OnLoad>
					<OnEnter>
						GameTooltip:SetOwner(this, "ANCHOR_NONE");
						GameTooltip:SetPoint("BOTTOMRIGHT", "UIParent", "BOTTOMRIGHT", -CONTAINER_OFFSET_X - 13, CONTAINER_OFFSET_Y);
						GameTooltip:AddLine("Root/Unroot");
						GameTooltip:AddLine("Left click to root.");
						GameTooltip:AddLine("Right click to unroot.");
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
			<Button name="$parent_Appear" inherits="GMGenie_Button" text='App/Sum'>
				<Anchors>
					<Anchor point="BOTTOMLEFT">
						<Offset>
							<AbsDimension x="180" y="15"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnLoad>
						this:RegisterForClicks("LeftButtonUp","RightButtonUp");
					</OnLoad>
					<OnClick>
						if (button == "RightButton") then
							GMSpy.summon();
						else
							GMSpy.appear();
						end
					</OnClick>
					<OnEnter>
						GameTooltip:SetOwner(this, "ANCHOR_NONE");
						GameTooltip:SetPoint("BOTTOMRIGHT", "UIParent", "BOTTOMRIGHT", -CONTAINER_OFFSET_X - 13, CONTAINER_OFFSET_Y);
						GameTooltip:AddLine("Appear/Summon");
						GameTooltip:AddLine("Left click to appear.");
						GameTooltip:AddLine("Right click to summon.");
						GameTooltip:Show();
					</OnEnter>
					<OnLeave>
						GameTooltip:Hide();
					</OnLeave>
				</Scripts>
			</Button>
        </Frames>
	</Button>
</Ui>